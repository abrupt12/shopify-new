<div class="group relative">
  <a href="{{ product.url }}" class="block">
    <div class="relative aspect-square mb-4 overflow-hidden bg-gray-100">
      {% if product.featured_image %}
        <img 
          src="{{ product.featured_image | img_url: '500x' }}" 
          alt="{{ product.featured_image.alt | escape }}"
          class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
          loading="lazy"
        >
      {% else %}
        {{ 'product-1' | placeholder_svg_tag: 'w-full h-full object-cover bg-gray-100' }}
      {% endif %}
      
      {% if product.compare_at_price > product.price %}
        <span class="absolute top-2 right-2 bg-primary text-white px-2 py-1 text-sm rounded">
          {{ 'products.product.on_sale' | t }}
        </span>
      {% endif %}
    </div>

    <h3 class="text-lg font-medium mb-2 group-hover:text-primary transition-colors">
      {{ product.title }}
    </h3>

    <div class="flex items-center justify-between">
      <div class="text-gray-900">
        {% if product.compare_at_price > product.price %}
          <span class="text-primary">{{ product.price | money }}</span>
          <span class="text-gray-500 line-through text-sm ml-2">{{ product.compare_at_price | money }}</span>
        {% else %}
          {{ product.price | money }}
        {% endif %}
      </div>

      {% if product.available %}
        <span class="text-sm text-green-600">In stock</span>
      {% else %}
        <span class="text-sm text-red-600">{{ 'products.product.sold_out' | t }}</span>
      {% endif %}
    </div>
  </a>
</div> 